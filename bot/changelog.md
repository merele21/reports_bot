# Changelog

## Version 2.0.0 - Major Update üöÄ

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ `migrate_db.py`
   - Fallback –Ω–∞ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Alembic
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

#### 2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**
   - **–°—É–ø–µ—Ä–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** (`SUPER_ADMIN_IDS`):
     - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
     - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º
   - **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** (`ADMIN_IDS`):
     - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
     - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
     - –ù–ï –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–º–∏ –∞–¥–º–∏–Ω–∞–º–∏

#### 3. **FSM –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ —Ñ–æ—Ç–æ**
   - –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
     1. `/add_template` - –Ω–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
     2. –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ç–æ
     3. `/done` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ
     4. –í–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è –∏–ª–∏ `/skip`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ –≤ –æ–¥–Ω–æ–º —à–∞–±–ª–æ–Ω–µ
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏/–æ—à–∏–±–∫–µ

#### 4. **–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π**
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π:
     - `/add_ch` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞/—Ç—Ä–µ–¥–∞
     - `/add_event` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
   - –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è–º–∏:
     - `/edit_event` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
     - `/rm_event` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π –Ω–∞ –æ–¥–∏–Ω –∫–∞–Ω–∞–ª

#### 5. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**
   - `/add_users` - –º–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å `;`
   - `/rm_user` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç—Ä–µ–¥–∞
   - `/rm_users` - –º–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–µ–¥–∞
   - –ú–µ—Ç–æ–¥ `get_users_by_channel()` –≤ CRUD

#### 6. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏**
   - `/rm_ch` - —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –∏–∑ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
   - –ú–µ—Ç–æ–¥—ã `update_event()` –∏ `delete_channel()` –≤ CRUD
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏

#### 7. **Hot Reload –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
   - –°–∫—Ä–∏–ø—Ç—ã `dev.sh` (Linux/Mac) –∏ `dev.bat` (Windows)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `.py` —Ñ–∞–π–ª–æ–≤
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è: cache, venv, git, data
   - Makefile —Å —É–¥–æ–±–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
   - Dependency: `watchdog==4.0.0`

#### 8. **–ö–æ–º–∞–Ω–¥–∞ /help**
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ / –∞–¥–º–∏–Ω—ã / —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω—ã
   - –ö—Ä–∞—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã

#### 9. **Rate limiting –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥**
   - `/get_chat_id` - –ª–∏–º–∏—Ç 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å (TODO)
   - `/get_thread_id` - –ª–∏–º–∏—Ç 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å (TODO)
   - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.py)**
   - –ù–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ: `super_admin_list`
   - –ú–µ—Ç–æ–¥—ã `add_admin()` –∏ `remove_admin()`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `.env`
   - Fallback –¥–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ (–ø–µ—Ä–≤—ã–π –∏–∑ ADMIN_IDS)

#### 2. **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**
   - `UserCRUD.get_by_telegram_id()` - –ø–æ–∏—Å–∫ –ø–æ telegram_id
   - `UserChannelCRUD.get_users_by_channel()` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç—Ä–µ–¥–∞
   - `UserChannelCRUD.remove_user_from_channel()` - —É–¥–∞–ª–µ–Ω–∏–µ
   - `ChannelCRUD.update_event()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
   - `ChannelCRUD.delete_channel()` - –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

#### 3. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (scheduler/tasks.py)**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–µ–¥–∞
   - –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü—Ä–æ–ø—É—Å–∫ –∫–∞–Ω–∞–ª–æ–≤ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ `deadline_time != datetime.min.time()`

#### 4. **–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (main.py)**
   - –§—É–Ω–∫—Ü–∏—è `run_migrations()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - Try-except —Å fallback –Ω–∞ `init_db()`
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞ –±–æ—Ç–∞
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

#### 5. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (handlers/admin.py)**
   - FSM states –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ —Ñ–æ—Ç–æ
   - –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `template_data`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: `is_admin()` –∏ `is_super_admin()`
   - –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–æ–±–∞–≤–ª–µ–Ω—ã:
- `watchdog==4.0.0` - –¥–ª—è hot reload –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### üõ† –ú–∏–≥—Ä–∞—Ü–∏—è —Å –≤–µ—Ä—Å–∏–∏ 1.x

**–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

1. **Backup –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   cp .env .env.backup
   cp bot_data.db bot_data.db.backup
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥:**
   ```bash
   git pull origin main
   ```

3. **–û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   # –∏–ª–∏
   docker-compose build --no-cache
   ```

4. **–û–±–Ω–æ–≤–∏—Ç–µ `.env`:**
   ```env
   # –î–æ–±–∞–≤—å—Ç–µ
   SUPER_ADMIN_IDS=123456789
   
   # –û—Å—Ç–∞–≤—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
   ADMIN_IDS=123456789,987654321
   BOT_TOKEN=...
   DATABASE_URL=...
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   python -m bot.main
   # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
   ```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**
   ```
   /help
   /list_channels
   ```

### ‚ö†Ô∏è Breaking Changes

1. **–ò–∑–º–µ–Ω–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤**
   - –°—Ç–∞—Ä—ã–π: `/add_template` —Å –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–º —Ñ–æ—Ç–æ
   - –ù–æ–≤—ã–π: `/add_template` ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ ‚Üí `/done` ‚Üí –æ–ø–∏—Å–∞–Ω–∏–µ

2. **–†–∞–∑–¥–µ–ª–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π**
   - –°—Ç–∞—Ä—ã–π: `/add_ch –Ω–∞–∑–≤–∞–Ω–∏–µ 10:00 –∫–ª—é—á–µ–≤–æ–µ_—Å–ª–æ–≤–æ 2`
   - –ù–æ–≤—ã–π: `/add_ch –Ω–∞–∑–≤–∞–Ω–∏–µ` ‚Üí `/add_event –Ω–∞–∑–≤–∞–Ω–∏–µ 10:00 –∫–ª—é—á–µ–≤–æ–µ_—Å–ª–æ–≤–æ 2`

3. **–¢—Ä–µ–±—É–µ—Ç—Å—è SUPER_ADMIN_IDS –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º–∏**
   - –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–µ—Ä–≤—ã–π –∏–∑ ADMIN_IDS —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–º
   - –¢–æ–ª—å–∫–æ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/add_admin`

4. **–ú–∏–≥—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ**
   - –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å `migrate_db.py`
   - –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–µ–¥–∞)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥
- –£–ª—É—á—à–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö FSM

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –û–±–Ω–æ–≤–ª–µ–Ω README.md —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω MIGRATION_GUIDE.md —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- Troubleshooting —Å–µ–∫—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Makefile –∫–æ–º–∞–Ω–¥

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ admin IDs –≤ .env
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∞–¥–º–∏–Ω–æ–≤

### üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç—Ä–µ–¥–∞
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–µ–Ω—å—à–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö FSM
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π

---

## Version 1.2.0

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥–ª–∞–π–Ω–∞ –≤ –æ–∫–Ω–µ +5 –º–∏–Ω—É—Ç**
   - –î–µ–¥–ª–∞–π–Ω –≤ 10:00 ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ 10:05:00-10:05:59
   - –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ –¥–µ–Ω—å
   - –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

2. **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
   - –£–¥–∞–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π `TECH_CHANNEL_ID`
   - –ö–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–µ –º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ö–æ–º–∞–Ω–¥–∞ `/set_stats_destination` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**
   - `/get_user_id` - —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID
   - `/get_chat_id` - —É–∑–Ω–∞—Ç—å Chat ID
   - `/get_thread_id` - —É–∑–Ω–∞—Ç—å Thread ID

4. **–ö–æ–Ω—Ç—Ä–æ–ª—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç—Ä–µ–¥
   - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ - –æ—à–∏–±–∫–∞
   - –¢–∞–±–ª–∏—Ü–∞ `user_channels` –¥–ª—è —Å–≤—è–∑–∏

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π**
   - –ö–æ–º–∞–Ω–¥–∞ `/add_template` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ
   - MD5 —Ö–µ—à –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
   - Perceptual hash (pHash) –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö —Ñ–æ—Ç–æ
   - –î–æ–ø—É—Å–∫ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è ‚â§ 10 –¥–ª—è pHash
   - –¢–∞–±–ª–∏—Ü–∞ `photo_templates` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è

1. **–ú–æ–¥–µ–ª–∏ –ë–î**
   - `Channel`: –¥–æ–±–∞–≤–ª–µ–Ω—ã `stats_chat_id`, `stats_thread_id`
   - `Report`: –¥–æ–±–∞–≤–ª–µ–Ω–æ `template_validated`
   - –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `UserChannel`
   - –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `PhotoTemplate`

2. **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**
   - `UserChannelCRUD` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤—è–∑—è–º–∏
   - `PhotoTemplateCRUD` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏
   - –ú–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ç–æ

3. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**
   - –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–µ–¥–ª–∞–π–Ω–∞
   - –ö—ç—à –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ set –≤–º–µ—Å—Ç–æ dict
   - –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –≤ –Ω–∞—á–∞–ª–µ –¥–Ω—è
   - –§—É–Ω–∫—Ü–∏—è `send_weekly_stats_to_thread` –≤–º–µ—Å—Ç–æ `send_weekly_stats`

4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
   - –£–¥–∞–ª–µ–Ω `TECH_CHANNEL_ID` –∏–∑ `.env`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ `pydantic-settings`

---

## Version 1.0.0 - Initial Release

### –ë–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤/—Ç–æ–ø–∏–∫–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Ñ–æ—Ç–æ –∏ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –¥–µ–¥–ª–∞–π–Ω–∞
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞